<div class="input-container">
    <input [(ngModel)]="searchValue" (ngModelChange)="onSearchValueChange()" type="text" class="pointer"
        placeholder="Code learning durchsuchen">
    <img class="search-img" src="assets/img/icons/search.png" alt="">
    <div class="search-container" *ngIf="showResults">
        <div class="loader-container" *ngIf="isLoading">
            <div class="loader"></div>
        </div>
        <div class="results">
            <div class="no-results-row"
                *ngIf="filteredChannels.length === 0 && filteredChannelMessages.length === 0 && filteredUsers.length === 0 && noResults && !isLoading">
                <span>Keine Ãœbereinstimmung gefunden</span>
            </div>
        </div>
        <div class="results" *ngIf="filteredChannels.length > 0 && searchValue.length > 0">
            <div class="result-row" *ngFor="let channel of filteredChannels" (click)="openChannel(channel.channel_ID)">
                <img src="assets/img/icons/workspaces.svg" alt="">
                <span class="channel-tag">#</span>
                <span>{{ channel.channelName }}</span>
            </div>
        </div>
        <div class="results" *ngIf="filteredUsers.length > 0 && searchValue.length > 0">
            <div class="result-row" *ngFor="let user of filteredUsers" (click)="openProfile(user)">
                <img src="assets/img/icons/account_circle.svg" alt="">
                <span>{{ user.user_name }}</span>
            </div>
        </div>
        <div class="results" *ngIf="filteredChannelMessages.length > 0 && searchValue.length > 0">
            <div class="result-row" *ngFor="let msg of filteredChannelMessages" (click)="openChannel(msg.channel_ID)">
                <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <mask id="mask0_6244_7880" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24"
                        height="25">
                        <rect y="0.5" width="24" height="24" fill="#D9D9D9" />
                    </mask>
                    <g mask="url(#mask0_6244_7880)">
                        <path
                            d="M20.3 20.8L18 18.5H4C3.45 18.5 2.97933 18.3043 2.588 17.913C2.196 17.521 2 17.05 2 16.5V4.5C2 3.95 2.196 3.479 2.588 3.087C2.97933 2.69567 3.45 2.5 4 2.5H20C20.55 2.5 21.021 2.69567 21.413 3.087C21.8043 3.479 22 3.95 22 4.5V20.075C22 20.525 21.796 20.8373 21.388 21.012C20.9793 21.1873 20.6167 21.1167 20.3 20.8ZM4 4.5V16.5H18.825L20 17.675V4.5H4Z"
                            fill="black" />
                    </g>
                </svg>
                <span>{{ msg.combinedMessage }}</span>
            </div>
        </div>
    </div>
</div>